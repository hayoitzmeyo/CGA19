<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="../../WMTTk26loLz8.com/1567989/assets/images/eNtGpq2bWEnr.jpg" type="image/x-icon">
  <title>Georisk: Assessment</title>
  <!-- Stylesheets from your original -->
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/web/assets/mobirise-icons2/mobirise2_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/bootstrap/css/bootstrap.min_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/bootstrap/css/bootstrap-grid.min_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/bootstrap/css/bootstrap-reboot.min_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/parallax/jarallax_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/dropdown/css/style_rnd%3D1749854789041.css">
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/theme/css/style_rnd%3D1749854789041.css">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Onest:wght@400;700&display=swap&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Onest:wght@400;700&display=swap&display=swap"></noscript>
  <link rel="stylesheet" href="../../WMTTk26loLz8.com/1567989/assets/css/mbr-additional_rnd%3D1749854789041.css" type="text/css">

<style>
@keyframes spin { to { transform: rotate(360deg);} }
.navbar-fixed-top { top: auto; }
</style>
</head>
<body>

<section class="menu menu2 cid-uNWBl5CWoR" once="menu" id="menu-5-uNWBl5CWoR"
    style="background-image: url('../../WMTTk26loLz8.com/1567989/assets/images/background1-h.mb4hg8.jpg'); background-repeat: no-repeat; background-size: cover; background-position: center center; background-color: transparent;">
  <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
    <div class="container">
      <div class="navbar-brand">
        <span class="navbar-logo">
          <a href="./Georisk_Home.html">
            <img src="../../WMTTk26loLz8.com/1567989/assets/images/eNtGpq2bWEnr.jpg" alt="Mobirise Website Builder" style="height: 4.3rem;">
          </a>
        </span>
        <span class="navbar-caption-wrap"><a class="navbar-caption text-secondary text-primary display-5" href="./Georisk_Home.html">Georisk</a></span>
      </div>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true">
          <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="./Georisk_About_Us.html">About Us</a></li>
          <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="./Georisk_Features.html" aria-expanded="false">Features</a></li>
          <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="./Georisk_How_It_Works.html">How It Works</a></li>
          <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="./Georisk_Meet_The_Team.html">Meet the Team</a></li>
        </ul>
        <div class="navbar-buttons mbr-section-btn"><a class="btn btn-primary display-4" href="./Georisk_Assessment.html">Free Risk Assessment</a></div>
      </div>
    </div>
  </nav>
</section>

<section class="footer4 cid-uNWBl5FIG9" once="footers" id="footer-4-uNWBl5FIG9">
  <div class="container">
    <div class="media-container-row align-center mbr-white">
      <div class="col-12">
        <p class="mbr-text mb-0 mbr-fonts-style display-7">© 2025 Georisk. All rights reserved.</p>
      </div>
    </div>
  </div>
</section>
<section class="form1 cid-uNXtcSjLIJ mbr-fullscreen" id="form01-h"
    style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('../../WMTTk26loLz8.com/1567989/assets/images/background1-h.mb4hg8.jpg'); background-repeat: no-repeat; background-size: cover; background-position: center center;">
  <div class="container-fluid">
    <div class="row content-wrapper justify-content-center">
      <div class="col-lg-7 mbr-form">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <h5 class="mbr-section-title mbr-fonts-style mb-5 display-2"><strong>Map Your Risks</strong><br></h5>
        </div>
        <div class="text-wrapper align-left">

<form id="risk-form" class="mbr-form form-with-styler" data-verified="">
  <div class="row">
      <div hidden="hidden" data-form-alert-danger="" class="alert alert-danger col-12">
          Oops
      </div>
  </div>
  <div class="dragArea row">
      <div data-for="address" class="col-lg-6 col-md-6 col-sm-12 form-group">
          <input type="text" name="address" data-form-field="address" class="form-control display-7" value="" placeholder="Ex: 123 Main Street" id="address" required>
      </div>
      <div class="col-auto mbr-section-btn"><button type="submit" class="w-100 btn btn-secondary display-7" id="submit-btn"></button></div>
  </div>
</form>

<!-- Loading bar (NEW) -->
<div id="loading-bar-wrapper" style="display:none;margin:30px 0;">
  <div style="width:100%;background:#eee;border-radius:8px;overflow:hidden;">
    <div id="loading-bar" style="width:0;height:18px;background:#4285F4;transition:width 0.3s;"></div>
  </div>
  <div id="loading-bar-text" style="text-align:center;margin-top:7px;color:#333;font-size:0.98em;">Starting assessment...</div>
</div>

<!-- Results div -->
<div id="results" style="margin-top: 20px;" aria-live="polite"></div>

<script>
// Setup
const form = document.getElementById('risk-form');
const resultsDiv = document.getElementById('results');
const loadingBarWrapper = document.getElementById('loading-bar-wrapper');
const loadingBar = document.getElementById('loading-bar');
const loadingBarText = document.getElementById('loading-bar-text');
const addressInput = document.getElementById('address');
const submitBtn = document.getElementById('submit-btn');
const BACKEND_URL = 'https://cga19.onrender.com';  

submitBtn.textContent = 'Enter Your Address To Get Started';

addressInput.addEventListener('input', function() {
  if (this.value.trim().length > 0) {
    submitBtn.textContent = "Start My Property's Risk Assessment";
  } else {
    submitBtn.textContent = 'Enter Your Address To Get Started';
  }
});

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const address = addressInput.value.trim();
  if (!address) return;
  resultsDiv.innerHTML = "";
  loadingBarWrapper.style.display = "block";
  loadingBar.style.width = "10%";
  loadingBarText.textContent = "Sending request...";

  try {
    loadingBar.style.width = "40%";
    loadingBarText.textContent = "Analyzing address...";
    const response1 = await fetch(`${BACKEND_URL}/risk-summary`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ address })
    });
    loadingBar.style.width = "65%";
    loadingBarText.textContent = "Analyzing fire risk...";
    const response2 = await fetch(`${BACKEND_URL}/fire-risk-summary`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ address })
    });
    loadingBar.style.width = "90%";
    loadingBarText.textContent = "Finalizing and saving results...";

    // Save results
    const data1 = await response1.json();
    const data2 = await response2.json();
    localStorage.setItem('georisk_results_data1', JSON.stringify(data1));
    localStorage.setItem('georisk_results_data2', JSON.stringify(data2));
    localStorage.setItem('georisk_address', address);

    loadingBar.style.width = "100%";
    loadingBarText.textContent = "Assessment complete!";

    // Short delay for user to see completion
    setTimeout(() => {
      window.location.href = './Georisk_Assessment_Results.html';
    }, 300);
  } catch (err) {
    loadingBarText.textContent = "Error: " + err.message;
    loadingBar.style.background = "#D32F2F";
    loadingBar.style.width = "100%";
    // Optionally show error elsewhere
    resultsDiv.innerHTML = `<p style="color: red;">Error: ${err.message}</p>`;
  }
});
</script>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="article8 cid-uO2GNlSgqY mbr-parallax-background" id="article08-i">
  <div class="mbr-overlay" style="opacity: 0.4; background-color: rgb(0, 0, 0);"></div>
  <div class="container">
    <div class="row justify-content-center">
      <div class="card col-md-12 col-lg-10">
        <div class="card-wrapper">
          <div class="image-wrapper d-flex justify-content-center mb-4">
            <img src="../../WMTTk26loLz8.com/1567989/assets/images/SVPpLoOMZNFY.jpg" alt="Mobirise Website Builder">
          </div>
          <div class="card-content-text">
            <h3 class="card-title mbr-fonts-style mbr-white mt-3 mb-4 display-2">
              <strong>Ready to discover your home's risks?</strong>
            </h3>
            <div class="row card-box align-left">
              <div class="item features-without-image col-12">
                <div class="item-wrapper">
                  <h4 class="mbr-section-subtitle mbr-fonts-style mb-3 display-7">
                    Enter your address above and get your <strong>free, personalized risk assessment in seconds</strong>. No jargon, no fees—just the information you need to <strong>safeguard</strong> your home and family.
                  </h4>
                  <p class="mbr-text mbr-fonts-style display-5"><strong>Why Trust Georisk?</strong></p>
                </div>
              </div>
              <div class="item features-without-image col-12">
                <div class="item-wrapper">
                  <h4 class="mbr-section-subtitle mbr-fonts-style display-7">
                    At GeoRisk, we are committed to delivering <strong>transparent, accurate, and actionable risk insights you can rely on.</strong> By combining decades of trusted data with cutting-edge AI and predictive models, we provide up-to-date evaluations tailored to your home. We prioritize your privacy and present complex information in a clear, easy-to-understand way—empowering you to make informed decisions and <strong>protect what matters most</strong> with confidence.
                  </h4>
                  <p class="mbr-text mbr-fonts-style display-7">
                    Our models are built on <strong>cutting-edge technology and continuously updated data</strong> to ensure reliability. We prioritize transparency and give you knowledge that was once only available to experts.
                  </p>
                </div>
              </div>
              <div class="item features-without-image col-12">
                <div class="item-wrapper">
                  <h4 class="mbr-section-subtitle mbr-fonts-style display-5">
                    <strong>Understanding Your Risks</strong>
                  </h4>
                  <p class="mbr-text mbr-fonts-style display-7">
                    To help you make the most of your GeoRisk assessment, here’s a quick overview of the <strong>key risk factors</strong> we analyze:<br><br>
                    <strong>Wildfire Risk:</strong> Measures the likelihood and potential severity of wildfire affecting your property <br><br>
                    <strong>Flood Risk:</strong> Assesses vulnerability to flooding or notable water damage from rivers, storms, or heavy rainfall<br><br>
                    <strong>Earthquake Risk:</strong> Evaluates seismic activity and ground stability in your area to estimate earthquake exposure danger level<br><br>
                    <strong>Landslide Risk:</strong> Identifies potential landslide hazards to your house by combining a variety of critical factors<br><br>
                    <strong>Home Crime Risk:</strong> Analyzes local crime statistics and neighborhood trends to estimate the risk of home crimes like burglary
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="../../WMTTk26loLz8.com/1567989/assets/web/assets/jquery/jquery.min_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/bootstrap/js/bootstrap.bundle.min_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/parallax/jarallax_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/smoothscroll/smooth-scroll_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/ytplayer/index_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/dropdown/js/navbar-dropdown_rnd%3D1749854789041.js"></script>
<script src="../../WMTTk26loLz8.com/1567989/assets/theme/js/script_rnd%3D1749854789041.js"></script>

</body>
</html>
